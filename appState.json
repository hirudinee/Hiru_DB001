{"EDITOR_STATE":{"allProjectFiles":{"a49a1583-b28e-4fc0-81f2-38e91598965d":{"id":"a49a1583-b28e-4fc0-81f2-38e91598965d","parent":null,"name":"Hiru_DB001","type":"DIRECTORY","isDirectory":true,"children":["6bd59d26-28d2-4dc5-93cd-ec0522c2c255","ed81a22f-f3ad-4505-b505-9d9ee1f37c82"],"isRemovable":false,"filePath":"Hiru_DB001"},"6bd59d26-28d2-4dc5-93cd-ec0522c2c255":{"id":"6bd59d26-28d2-4dc5-93cd-ec0522c2c255","parent":"a49a1583-b28e-4fc0-81f2-38e91598965d","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"Hiru_DB001/lambda.js","code":"let AWS = require('aws-sdk');\nconst sqs = new SL.AWS.SQS(AWS);\nlet connectionManager = require('./ConnectionManager');\nlet SL = require('@slappforge/slappforge-sdk');\nconst rds = new SL.AWS.RDS(connectionManager);\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\n\tsqs.receiveMessage({\n\t\tQueueUrl: 'https://sqs.us-east-1.amazonaws.com/480964559519/Hiru_Test1201',\n\t\tAttributeNames: ['SenderId'],\n\t\tMaxNumberOfMessages: '1',\n\t\tVisibilityTimeout: '30',\n\t\tWaitTimeSeconds: '0'\n\t}, function (receivedMessages) {\n\t\treceivedMessages.forEach(message => {\n\t\t\t// your logic to access each message through out the loop. Each message is available under variable message \n\t\t\twithin this block\n\t\t})\n\t}, function (error) {\n\t\t// implement error handling logic here\n\t});\n\n\n\n\n\n\tcallback(null, 'Successfully executed');\n}","resources":["apigusEast1APIANYUhiruany","ddbhiruTable","cwehirutest","ddbhiruTable","ddbThuvvaTable","ddbtesthiru","rds-hirudinee","sqsusEast1HiruTest1201"],"triggers":[{"resourceName":"apigusEast1APIANYUhiruany","config":{}},{"resourceName":"cwehirutest","config":{}}],"version":10},"ed81a22f-f3ad-4505-b505-9d9ee1f37c82":{"id":"ed81a22f-f3ad-4505-b505-9d9ee1f37c82","parent":"a49a1583-b28e-4fc0-81f2-38e91598965d","name":"ConnectionManager.js","type":"JS_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"Hiru_DB001/ConnectionManager.js","code":"module.exports=function(){\n\n    this.dbConnections = [];\n    \n    this.dbConnections[\"hirudinee\"] = {\n        host: process.env.EndPoint_hirudinee,\n        port: 3306,\n        user: \"test\",\n        password: \"12345678\",\n        database: \"sample\",\n    };\n    \n    };","resources":[],"triggers":[]}},"rootNode":"a49a1583-b28e-4fc0-81f2-38e91598965d","openFiles":["6bd59d26-28d2-4dc5-93cd-ec0522c2c255"],"currentFileId":"6bd59d26-28d2-4dc5-93cd-ec0522c2c255","resources":{"apigusEast1APIANYUhiruany":{"name":"apigusEast1APIANYUhiruany","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"API_ANYU","apiId":"5zf4754a61","endpointType":"EDGE","rootResourceId":"mko5xvn80d","existingResources":{"/":"mko5xvn80d","/data":"yjdvgj"},"resourceMode":0,"resourceName":"hiru","resourcePath":"/hiru","restMethod":"ANY","proxyIntegration":false,"enableCORS":false,"stageMode":1,"stageName":"Prod","stageDeploymentId":"avwoy4"},"globallyEditable":true,"usage":{"6bd59d26-28d2-4dc5-93cd-ec0522c2c255":{"operations":{},"occurrence":1,"triggers":[{}]}}},"ddbhiruTable":{"name":"ddbhiruTable","type":"DynamoDB","config":{"mode":0,"operation":"put","table":{"arn":"","name":"hiruTable","partitionKey":"ID","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0},"isGlobalEditMode":false,"parameters":{"TableName":"hiruTable","Item":{"Name":"Hiru","ID":"001"}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false,"usage":{}},"cwehirutest":{"name":"cwehirutest","type":"CLOUD_WATCH","config":{"mode":0,"name":"hirutest","description":"","scheduleExpression":"cron(0/5 * * * ? *)"},"globallyEditable":true,"usage":{"6bd59d26-28d2-4dc5-93cd-ec0522c2c255":{"operations":{},"occurrence":1,"triggers":[{}]}}},"ddbThuvvaTable":{"name":"ddbThuvvaTable","type":"DynamoDB","config":{"mode":1,"operation":"put","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/ThuvvaTable","name":"ThuvvaTable","partitionKey":"ID","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0},"isGlobalEditMode":false,"parameters":{"TableName":"hiruTable","Item":{"Name":"Hiru","ID":"001"}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false,"usage":{}},"ddbtesthiru":{"name":"ddbtesthiru","type":"DynamoDB","config":{"mode":0,"operation":"put","table":{"arn":"","name":"testhiru","partitionKey":"sample","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0,"primaryKeyType":"B"},"isGlobalEditMode":false,"parameters":{"TableName":"ThuvvaTable","Item":{"Name":"Hiru","ID":"001","sample":"01"}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false,"usage":{}},"rds-hirudinee":{"name":"rds-hirudinee","type":"RDS","config":{"editMode":false,"operation":1,"rdsInstance":{"rdsEngineType":"mysql","rdsEdition":"","rdsInstanceSpec":{"dbInstanceClass":"db.t2.micro","dbLicenseModel":"general-public-license","dbEngineVersion":"5.7.19"},"rdsSetting":{"instanceIdentifier":"hirudinee","masterUsername":"test","masterPassword":"h@s1n1H1rud1n##"},"rdsDBOptions":{"dbName":"sample","dbPort":"3306"},"rdsInstanceArn":"","Host":"process.env.EndPoint_hirudinee","doesExist":false,"initializationQuery":"","alreadyDeployed":false},"rdsInstanceResources":[],"projectRegion":"us-east-1","mode":0,"additionalFiles":[],"params":{"query":"","inserts":""},"isGlobalEditMode":false,"enableInject":true,"isNewFromGlobal":false},"globallyEditable":true,"usage":{}},"sqsusEast1HiruTest1201":{"name":"sqsusEast1HiruTest1201","type":"SQS","config":{"mode":1,"existing":true,"name":"Hiru_Test1201","url":"https://sqs.us-east-1.amazonaws.com/480964559519/Hiru_Test1201","selectedRegion":"us-east-1","deliveryDelay":"0","deliveryDelayUnit":"seconds","queueType":"standardQueue","defaultVisibilityTimeout":"30","defaultVisibilityTimeoutUnit":"seconds","messageRetentionPeriodUnit":"seconds","maximumMessageSize":256,"receiveMessageWaitTime":"0","queueARN":"arn:aws:sqs:us-east-1:480964559519:Hiru_Test1201","operation":0},"globallyEditable":true,"usage":{}}},"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"slappforge-sdk":{"name":"@slappforge/slappforge-sdk","version":"0.0.3","notRemovable":true,"types":"\n                    declare class RDSQueryParams {\n    instanceIdentifier: string;\n    query: string;\n    inserts: Array<any>\n}\n\ndeclare namespace SL.AWS {\n    class RDS {\n        query(params: RDSQueryParams, callback: Function, connection: any): void;\n\n        beginTransaction(params: any, callback: Function): void;\n    }\n\n    class SQS {\n        receiveAndDeleteMessages(params: any, filteringCallBack: Function, deleteCallBack: Function, errorCallBack: Function): void;\n    }\n}\n"},"SL":"1.0.0"}},"lambdaId":"6bd59d26-28d2-4dc5-93cd-ec0522c2c255","changeExistingProject":true,"additionalFiles":[]},"PROJECT_META":{"projectName":"Hiru_DB001","projectDescription":"","projectVersion":"5.2.18","projectRegion":"us-east-1","repoName":"Hiru_DB001","repoUrl":"https://github.com/hirudinee/Hiru_DB001","lastSave":1517816939127}}